<app-internal-nav-bar></app-internal-nav-bar>
<div class="container">
  <div class="main-body">

    <!-- Breadcrumb -->
    <!-- <nav aria-label="breadcrumb" class="main-breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="index.html">Home</a></li>
              <li class="breadcrumb-item"><a href="javascript:void(0)">User</a></li>
              <li class="breadcrumb-item active" aria-current="page">User Profile</li>
            </ol>
          </nav> -->
    <!-- /Breadcrumb -->

    <div class="row gutters-sm">
      <div class="col-md-4 mb-3">
        <div style="margin-top: 155px;" class="card">
          <div class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <img  src="../../../assets/images/profile_picture/{{userService.selectedUser.profilePicture}}" alt="Admin"
                class="rounded-circle" width="150">
              <div class="mt-3">
                <h4>{{userService.selectedUser.username}}</h4>
                <p class="text-secondary mb-1">{{userService.selectedUser.rolename}}</p>
                <p class="text-muted font-size-sm">{{userService.selectedUser.address}}</p>
                <!-- <button class="btn btn-primary">Follow</button>
                      <button class="btn btn-outline-primary">Message</button> -->
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="col-md-8">
        <div style="margin-top: 125px;" class="card mb-3">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Full Name</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{userService.selectedUser.fullname}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Email</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{userService.selectedUser.email}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Address</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{userService.selectedUser.address}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Gender</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{userService.selectedUser.gender}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Birth Of Date</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{userService.selectedUser.bod | date}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-12">
                <button class="btn btn-outline-primary"
                  (click)="openUpdateDailog(userService.selectedUser.id,userService.selectedUser.fullname,userService.selectedUser.email,

                      userService.selectedUser.phoneNumbers,userService.selectedUser.address,userService.selectedUser.gender,userService.selectedUser.bod, userService.selectedUser.profilePicture)">Edit</button>

              </div>
            </div>
          </div>
        </div>
      </div>



    </div>
  </div>

</div>


<ng-template #callUpdateDailog>
  <div class="modal-header mb-3">
    <h5 style="font-family: 'Cairo', sans-serif; font-weight: bold; color: black;" class="modal-title"
      id="exampleModalLabel">Update Profile</h5>
    <button type="button" class="close text-danger" mat-button mat-dialog-close="no">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <form class="example-form" [formGroup]="updateform">
    <div class="row">
      <div class="col-md-12">
        <mat-form-field class="w-100 example-full-width" appearance="fill">
          <mat-label>Full Name </mat-label>
          <input type="text" matInput formControlName="fullName" [(ngModel)]="previous_data.fullName">
          <mat-error *ngIf="updateform.controls.fullName.hasError('required')">
            This Filed is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <mat-form-field class="example-full-width w-100" appearance="fill">
          <mat-label>Email </mat-label>
          <input type="email" matInput formControlName="email" [(ngModel)]="previous_data.email">
          <mat-error *ngIf="updateform.controls.email.hasError('required')">
            This Filed is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <mat-form-field class="example-full-width w-100" appearance="fill">
          <mat-label>Address </mat-label>
          <input type="text" matInput formControlName="address" [(ngModel)]="previous_data.address">
          <mat-error *ngIf="updateform.controls.address.hasError('required')">
            This Filed is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <mat-form-field class="example-full-width w-100" appearance="fill">
          <mat-label>Gender </mat-label>
          <mat-select [(value)]="previous_data.gender" required>
            <mat-option value="Male">Male</mat-option>
            <mat-option value="Female">Female</mat-option>
          </mat-select>
          <mat-error *ngIf="updateform.controls.gender.hasError('required')">
            This Filed is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <mat-form-field class="example-full-width w-100" appearance="fill">
          <mat-label>Birth Of Date </mat-label>
          <input type="date" matInput formControlName="bod" [(ngModel)]="previous_data.bod">
          <mat-error *ngIf="updateform.controls.bod.hasError('required')">
            This Filed is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </div>
    </div>




    <div class="row">
      <div class="col-md-3">
        <input accept="image/*" type="file" #file formControlName="profilePicture" [(ngModel)]="previous_data.profilePicture" />
      </div>
    </div>

    <div class="modal-footer mt-3">
      <button class="btn btn-sm btn-secondary text-danger" at-button mat-dialog-close="no">Close</button>
      <button class="btn btn-sm btn-success" (click)="editProfile(file.files)" [mat-dialog-close]="true">Update
      </button>
    </div>
  </form>

</ng-template>

<app-footer></app-footer>
